(this["webpackJsonpdicom-image-viewer"]=this["webpackJsonpdicom-image-viewer"]||[]).push([[0],{202:function(e,t,n){e.exports=n(344)},207:function(e,t,n){},344:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),o=n(18),l=n.n(o),s=(n(207),n(190)),c=n(109),u=n(16),d=n.n(u),m=n(22),h=n(73),f=n(74),g=n(192),w=n(80),v=n(30),p=n(83),C=(n(210),n(114)),S=n(346),x=n(354),y=n(355),M=n(191),b=n(193),W=n(53);function E(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.onload=function(){var t=a.result;e(t)},a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.readAsArrayBuffer(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return D.apply(this,arguments)}function D(){return(D=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){if(0===t.indexOf("file://")){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=function(){var t=a.response;e(t)},a.send()}else{console.log("Starting XHR request for",t);var i=new XMLHttpRequest;i.open("GET",t,!1),i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(),console.log("Finished XHR request");var r,o,l,s=i.responseText;r=new ArrayBuffer(s.length),o=new DataView(r),s.split("").forEach((function(e,t){l=e.charCodeAt(0),o.setUint8(t,255&l)}));var c=o.buffer;e(c)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N,k=n(345).fromEvent;!function(e){e[e.PixelHUMaxMin=0]="PixelHUMaxMin",e[e.WindowCenter=1]="WindowCenter",e[e.AbdomenSoftTissues=2]="AbdomenSoftTissues",e[e.SpineSoftTissues=3]="SpineSoftTissues",e[e.SpineBone=4]="SpineBone",e[e.Brain=5]="Brain",e[e.Lungs=6]="Lungs"}(N||(N={}));var R=(a={},Object(v.a)(a,N.AbdomenSoftTissues,{W:400,L:50}),Object(v.a)(a,N.SpineSoftTissues,{W:250,L:50}),Object(v.a)(a,N.SpineBone,{W:1800,L:400}),Object(v.a)(a,N.Brain,{W:80,L:40}),Object(v.a)(a,N.Lungs,{W:1500,L:-600}),a),O={borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5,width:800,height:150},j={frameIndexes:[],currFrameIndex:0,multiFrameInfo:"",windowCenter:0,windowWidth:-1,pixelMax:0,pixelMin:0,resX:0,resY:0,photometric:"",modality:"",transferSyntax:"",hasDICOMExtension:!0,isValidMouseDown:!1};function L(e){var t,n=e.mode,a=e.windowItem,i=e.currNormalizeMode,o=e.onChange,l=null!==(t=null!==a&&void 0!==a?a:R[n])&&void 0!==t?t:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{radio:!0,label:N[n],name:"checkboxRadioGroup",value:n,checked:i===n,onChange:o}),l?" c:".concat(l.L,", w:").concat(l.W,"  "):"  ")}var z=function(e){Object(w.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,{})).myCanvasRef=void 0,e.myCanvasRefSagittal=void 0,e.myCanvasRefCorona=void 0,e.files=void 0,e.isOnlineMode=!0,e.currentImage=void 0,e.currentSeries=void 0,e.currentSeriesImageObjects=void 0,e.clientX=void 0,e.clientY=void 0,e.seriesGlobalMax=void 0,e.seriesGlobalMin=void 0,e.maxWidth=1280,e.maxHeight=1e3,e.handleNormalizeModeChange=function(t,n){var a=n.value;if(e.currentImage){var i,r,o=a;o===N.WindowCenter&&(i=e.currentImage.getWindowCenter(),r=e.currentImage.getWindowWidth());var l=i||0,s=r||-1;e.setState({useWindowCenter:l,useWindowWidth:s,currNormalizeMode:o});var c=e.state,u=c.currFrameIndex,d=c.ifShowSagittalCoronal,m=c.currentCoronaNo,h=c.currentSagittalNo;e.renderFrame({image:e.currentImage,frameIndex:u,currNormalizeMode:o,useWindowCenter:l,useWindowWidth:s}),d&&(e.buildSagittalView(e.currentSeries,h-1,l,s,o),e.buildCoronalView(e.currentSeries,m-1,l,s,o))}},e.renderImage=function(t,n,a,i,r){var o,l;if(n)o=n;else try{o=W.Series.parseImage(new DataView(t)),Object(C.a)(o.getImageDirections(),[1,0,0,0,1,0])?e.setState({isCommonAxialView:!0}):console.log("not axial dicom:",o.getAcquiredSliceDirection())}catch(c){console.log("parse dicom error:",c)}if((l=o.getNumberOfFrames())>1){var s="It's multi-frame file (n=".concat(l,")");e.setState({multiFrameInfo:s})}e.setState({frameIndexes:Array.from({length:l},(function(e,t){return{text:t,value:t}})),currFrameIndex:0}),e.currentImage=o,e.renderFrame({image:e.currentImage,frameIndex:0,imageData:a,useWindowCenter:i,useWindowWidth:r})},e.renderFrame=function(t){var n,a,i=t.image,r=t.frameIndex,o=t.currNormalizeMode,l=t.useWindowWidth,s=t.useWindowCenter,c=t.canvasRef,u=t.rawData,d=t.rawDataWidth,m=t.rawDataHeight,h=t.extraHeightScale,f=t.extraWidthScale,g=t.imageData,w=!1,v=0,p=null,C=null;if(!c||c===e.myCanvasRef){var S,x=i.getPhotometricInterpretation(),y=i.getModality(),M=i.getTransferSyntax();if(null!==x&&(-1!==x.trim().indexOf("RGB")?(w=!0,v=i.getPlanarConfig()||0,console.log("Planar mode:",v)):-1!==x.trim().toLowerCase().indexOf("palette")&&(w=!0)),g)S=g;else try{S=i.getInterpretedData(!1,!0,r)}catch(B){return void console.log("read dicom InterpretedData error:",B)}n=S.max,a=S.min,u=S.data,d=S.numCols,m=S.numRows,C=i.getWindowCenter(),p=i.getWindowWidth(),e.setState({windowCenter:C,windowWidth:p,pixelMax:S.max,pixelMin:S.min,resX:d,resY:m,modality:y,transferSyntax:M,photometric:x})}if(d&&m)if(u){var b,W;void 0===o&&(o=e.state.currNormalizeMode),void 0===l&&(l=e.state.useWindowWidth),void 0===s&&(s=e.state.useWindowCenter);var E=e.getNormalizationRange(l,s,o,p,C,n||e.seriesGlobalMax,a||e.seriesGlobalMin);if(b=E.max,W=E.min,c||(c=e.myCanvasRef),c.current){var I=document.createElement("canvas");I.width=d,I.height=m;var F=I.getContext("2d");if(F){var D=F.createImageData(d,m),N=D.data;if(w)if(0===v)for(var k=u,R=0,O=0;R<N.byteLength;R+=1,O+=1)N[R]=k[O],(R+2)%4===0&&(N[R+1]=255,R+=1);else for(var j=u,L=j.length/3,z=0,T=0;z<N.byteLength;z+=1,T+=1){var A=Math.floor(z/4);(z+1)%4===1?N[z]=j[A]:(z+1)%4===2?N[z]=j[A+L]:(z+1)%4===3&&(N[z]=j[A+2*L],N[z+1]=255,z+=1)}else for(var V=0,P=0;V<N.byteLength;V+=4,P+=1){var H=u[P];if(b&&W)W===a&&b===n||(H>b?H=b:H<W&&(H=W)),H=255*(H-W)/(b-W);N[V]=H,N[V+1]=H,N[V+2]=H,N[V+3]=255}F.putImageData(D,0,0);var X=1;h&&f||(X=e.resizeTotFit(d,m));var U=c.current;U.width=d/X,U.height=m/X,h&&(U.height=U.height*h),f&&(U.width=U.width*f),U.getContext("2d").drawImage(I,0,0,U.width,U.height)}}else console.log("canvasRef is not ready, return")}else console.error("no rawData. give up render ");else console.error("no width/height info. give up render ")},e.fetchFile=function(){var t=Object(m.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({currFilePath:decodeURI(n)}),e.checkDicomNameAndResetState(n)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,F(n);case 5:a=t.sent,e.renderImage(a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.switchImage=function(t){if(e.setState({currFileNo:t}),e.state.ifShowSagittalCoronal)e.buildAxialView(e.currentSeries,e.currentSeriesImageObjects,t-1);else{var n=e.files[t-1];e.isOnlineMode?e.fetchFile(n):e.loadFile(n)}},e.switchSagittal=function(t){e.setState({currentSagittalNo:t}),e.buildSagittalView(e.currentSeries,t-1)},e.switchCorona=function(t){e.setState({currentCoronaNo:t}),e.buildCoronalView(e.currentSeries,t-1)},e.onDropFiles=function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>0)){t.next=12;break}if(n.sort((function(e,t){return e.name.localeCompare(t.name)})),e.isOnlineMode=!1,e.files=n,!e.state.ifShowSagittalCoronal){t.next=10;break}return t.next=8,e.loadSeriesFilesToRender(e.files);case 8:t.next=12;break;case 10:e.setState({totalFiles:e.files.length,currFileNo:1}),e.loadFile(e.files[0]);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSwitchFrame=function(t,n){var a=n.value;console.log("switch frame:",a),e.setState({currFrameIndex:a}),e.renderFrame({image:e.currentImage,frameIndex:a})},e.onKeyDown=function(t){var n=e.state,a=n.totalFiles,i=n.currFileNo;if(a>1){if("right"===t){if((i+=1)>a)return}else if("left"===t&&(i-=1)<1)return;e.switchImage(i)}},e.onMouseCanvasDown=function(t){console.log("onMouseDown:",t),e.setState({isValidMouseDown:!0}),e.clientX=t.clientX,e.clientY=t.clientY,window.addEventListener("mousemove",e.onMouseMove)},e.onMouseUp=function(t){e.setState({isValidMouseDown:!1}),window.removeEventListener("mousemove",e.onMouseMove)},e.onMouseMove=function(t){var n=e.state,a=n.isValidMouseDown,i=n.windowCenter,r=n.windowWidth,o=n.pixelMax,l=n.pixelMin,s=n.useWindowWidth,c=n.useWindowCenter,u=n.currFrameIndex,d=n.currNormalizeMode,m=n.ifShowSagittalCoronal,h=n.currentCoronaNo,f=n.currentSagittalNo;if(a){var g=e.getNormalizationRange(s,c,d,r,i,o,l),w=(g.max,g.min,g.tmpWindowCenter),v=g.tmpWindowWidth;if(void 0!==w&&void 0!==v){var p=t.clientX-e.clientX,C=e.clientY-t.clientY,S=v+p;if(S<=1&&(p=(S=2)-v),0===p&&0===C)return;var x=w+C;e.setState({useWindowCenter:x,useWindowWidth:S}),e.renderFrame({image:e.currentImage,frameIndex:u,currNormalizeMode:d,useWindowCenter:x,useWindowWidth:S}),m&&(e.buildSagittalView(e.currentSeries,f-1,x,S),e.buildCoronalView(e.currentSeries,h-1,x,S))}}e.clientX=t.clientX,e.clientY=t.clientY},e.handleSeriesModeChange=function(){var t=Object(m.a)(d.a.mark((function t(n,a){var i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.value,"seriesMode"!==(i=e.state.seriesMode)){t.next=9;break}e.setState({seriesMode:"notSeriesMode",ifShowSagittalCoronal:!1}),e.maxWidth=1280,e.maxHeight=1e3,e.files.length>0&&(console.log("ifShowSagittalCoronal = false"),e.setState({totalFiles:e.files.length,currFileNo:1}),e.isOnlineMode?e.fetchFile(e.files[0]):e.loadFile(e.files[0])),t.next=16;break;case 9:if("notSeriesMode"!==i){t.next=16;break}if(e.maxWidth=400,e.maxHeight=400,e.setState({seriesMode:"seriesMode",ifShowSagittalCoronal:!0}),!(e.files.length>0)){t.next=16;break}return t.next=16,e.loadSeriesFilesToRender(e.files);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.state=Object(c.a)({currNormalizeMode:N.WindowCenter,ifWindowCenterMode:!0,currFilePath:"",ifShowSagittalCoronal:!1,useWindowCenter:0,useWindowWidth:-1,seriesMode:"notSeriesMode",isCommonAxialView:!1,currFileNo:0,totalFiles:0,currentSagittalNo:0,totalSagittalFrames:0,currentCoronaNo:0,totalCoronaFrames:0},j),e.myCanvasRef=r.a.createRef(),e.myCanvasRefSagittal=r.a.createRef(),e.myCanvasRefCorona=r.a.createRef(),e.files=[],e.currentSeriesImageObjects=[],e.clientX=0,e.clientY=0,e.seriesGlobalMax=0,e.seriesGlobalMin=0,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("mouseup",this.onMouseUp);var e=window.location.href;if(-1!==e.toLowerCase().indexOf(".dcm")||-1!==e.toLowerCase().indexOf(".dicom")){var t=e.indexOf("#");if(t>-1){var n=e.substring(t+1,e.length);this.onOpenFileURLs(n)}}}},{key:"onOpenFileURLs",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.split("file://")).sort((function(e,t){return e.localeCompare(t)})),console.log("sorted files:",n),this.files=[],1===n.length?this.files.push("".concat(n[0])):n.forEach((function(e,t){0===t&&1!==n.length||a.files.push("file://".concat(e))})),!this.state.ifShowSagittalCoronal){e.next=11;break}return e.next=9,this.loadSeriesFilesToRender(this.files);case 9:e.next=13;break;case 11:this.setState({totalFiles:this.files.length,currFileNo:1}),this.fetchFile(this.files[0]);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkDicomNameAndResetState",value:function(e){var t=this.myCanvasRef.current;t&&t.getContext("2d").clearRect(0,0,t.width,t.height);return this.setState(Object(c.a)({},j,{isCommonAxialView:!1})),this.state.ifShowSagittalCoronal||this.setState({useWindowCenter:0,useWindowWidth:-1}),!1!==e.toLowerCase().endsWith(".dcm")||!1!==e.toLowerCase().endsWith(".dicom")||(console.log("not dicom file:",e),this.setState({hasDICOMExtension:!1}),!1)}},{key:"loadFile",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({currFilePath:t.name}),this.checkDicomNameAndResetState(t.name)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,E(t);case 5:n=e.sent,this.renderImage(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSeriesFilesToRender",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a,i,r,o,l,c,u,m,h,f,g,w,v,p,S,x,y,M=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a="",i=[],this.files.forEach((function(e,t){if("string"===typeof e){if(!1===e.toLowerCase().endsWith(".dcm")&&!1===e.toLowerCase().endsWith(".dicom"))return;i.push(e),a||(a=decodeURI(e),M.setState({currFilePath:a}),M.checkDicomNameAndResetState(e)),n.push(F(e))}else{if(!1===e.name.toLowerCase().endsWith(".dcm")&&!1===e.name.toLowerCase().endsWith(".dicom"))return;i.push(e),a||(a=e.name,M.setState({currFilePath:e.name}),M.checkDicomNameAndResetState(e.name)),n.push(E(e))}})),this.files=i,e.next=7,Promise.all(n);case 7:r=e.sent,o=new W.Series,l=Object(s.a)(r);try{for(l.s();!(c=l.n()).done;)u=c.value,null===(m=W.Series.parseImage(new DataView(u)))?console.error(W.Series.parserError):m.hasPixelData()&&(0===o.images.length?(o.addImage(m),Object(C.a)(m.getImageDirections(),[1,0,0,0,1,0])?this.setState({isCommonAxialView:!0}):console.log("not axial dicom:",m.getAcquiredSliceDirection())):m.getSeriesId()===o.images[0].getSeriesId()?m.getSliceThickness()===o.images[0].getSliceThickness()?o.addImage(m):console.warn("not same slicethickness"):console.warn("not same seriesID(defined by daikon)"))}catch(t){l.e(t)}finally{l.f()}o.images.length>0?(o.buildSeries(),o.images.reverse(),this.currentSeries=o,this.currentSeriesImageObjects=[],h=o.images[0].getWindowCenter(),f=o.images[0].getWindowWidth(),g=0,w=0,o.images.forEach((function(e){var t=e.getInterpretedData(!1,!0,0),n=t.max,a=t.min;M.currentSeriesImageObjects.push(t),(void 0===g||n>g)&&(g=n),(void 0===w||a<w)&&(w=a)})),this.seriesGlobalMax=g,this.seriesGlobalMin=w,f?this.setState({useWindowCenter:h,useWindowWidth:f}):this.setState({useWindowCenter:Math.floor((g+w)/2),useWindowWidth:g-w}),v=o.images[0].getCols(),p=Math.floor(v/2),this.setState({totalSagittalFrames:v,currentSagittalNo:p+1}),this.buildSagittalView(o,p,h,f),S=o.images[0].getRows(),x=Math.floor(S/2),this.setState({totalCoronaFrames:S,currentCoronaNo:x+1}),this.buildCoronalView(o,x,h,f),y=Math.floor(o.images.length/2),this.setState({totalFiles:this.files.length,currFileNo:y+1}),this.buildAxialView(o,this.currentSeriesImageObjects,y,h,f)):console.warn("no series image");case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildAxialView",value:function(e,t,n,a,i){var r=e.images[n],o=t[n];this.renderImage(null,r,o,a,i)}},{key:"buildSagittalView",value:function(e,t,n,a,i){var r=e.images,o=r[0].getCols(),l=r[0].getRows();if(t>=o)console.error("j_sagittal is >=w, invalid");else{var s=r.length,c=[];if(this.currentSeriesImageObjects.forEach((function(e){for(var n=e.data,a=0;a<l;a++)c.push(n[t+o*a])})),c.length===l*s){var u,d=r[0].getPixelSpacing(),m=(d[0],d[1]),h=r[0].getSliceThickness();u=this.resizeTotFit(o,l),this.renderFrame({canvasRef:this.myCanvasRefSagittal,rawData:c,rawDataWidth:l,rawDataHeight:s,extraHeightScale:h/m/u,extraWidthScale:1/u,useWindowCenter:n,useWindowWidth:a,currNormalizeMode:i})}else console.error("sagittal view's number of element is wrong")}}},{key:"buildCoronalView",value:function(e,t,n,a,i){var r=e.images,o=r[0].getCols(),l=r[0].getRows();if(t>=l)console.error("k_corona is >=h, invalid");else{var s=r.length,c=[];if(this.currentSeriesImageObjects.forEach((function(e){for(var n=e.data,a=0;a<o;a++)c.push(n[a+o*t])})),c.length===l*s){var u,d=r[0].getPixelSpacing(),m=d[0],h=(d[1],r[0].getSliceThickness());u=this.resizeTotFit(o,l),this.renderFrame({canvasRef:this.myCanvasRefCorona,rawData:c,rawDataWidth:o,rawDataHeight:s,extraHeightScale:h/m/u,extraWidthScale:1/u,useWindowCenter:n,useWindowWidth:a,currNormalizeMode:i})}else console.error("coronal view's number of element is wrong")}}},{key:"resizeTotFit",value:function(e,t){var n=1,a=this.maxWidth,i=this.maxHeight;if(e<=a&&t<=i)return n;var r=e/a,o=t/i;return n=r>=o?r:o}},{key:"getNormalizationRange",value:function(e,t,n,a,i,r,o){var l,s,c,u;if(e>=0&&void 0!==t)c=t,u=e;else if(n===N.WindowCenter)null!==a&&a>=0&&null!==i&&(c=i,u=a);else if(n===N.PixelHUMaxMin);else{var d=R[n];c=d.L,u=d.W}return void 0!==u&&void 0!==c?(s=c-Math.floor(u/2),l=c+Math.floor(u/2)):(l=r,s=o),{max:l,min:s,tmpWindowCenter:c,tmpWindowWidth:u}}},{key:"render",value:function(){var e=this.state,t=e.currFilePath,n=e.multiFrameInfo,a=e.frameIndexes,i=e.currFrameIndex,o=(e.ifWindowCenterMode,e.currNormalizeMode),l=e.windowCenter,s=e.windowWidth,c=e.pixelMax,u=e.pixelMin,d=e.resX,m=e.resY,h=e.photometric,f=e.modality,g=e.transferSyntax,w=e.currFileNo,v=e.totalFiles,C=e.hasDICOMExtension,S=e.useWindowWidth,W=e.useWindowCenter,E=e.ifShowSagittalCoronal,I=e.currentSagittalNo,F=e.totalSagittalFrames,D=e.currentCoronaNo,R=e.totalCoronaFrames,j=e.seriesMode,z=e.isCommonAxialView,T="";T+=" modality:".concat(f,";photometric:").concat(h,";transferSyntax:").concat(g),d&&m&&(T+=" resolution:".concat(d,"x").concat(m)),n&&(T+="; ".concat(n));var A=this.getNormalizationRange(S,W,o,s,l,c,u),V=(A.max,A.min,A.tmpWindowCenter),P=A.tmpWindowWidth;return r.a.createElement(b.a,{allowRepeat:!0,keyName:"right,left",onKeyDown:this.onKeyDown},r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",null,r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",null,"DICOM Image Viewer (feat: 1. click DICOM url 2. click extension icon (or ctrl+u/cmd+u) to open ",r.a.createElement("br",null),"viewer page 3. drag any DICOM file into Chrome without opening viewer first 4.",r.a.createElement("a",{href:"https://github.com/grimmer0125/dicom-web-viewer/wiki"}," ","More (e.g. CLI and Instruction)!"))),r.a.createElement("div",null,r.a.createElement("div",{className:"flex-container"},r.a.createElement(M.a,{preventDropOnDocument:!1,style:O,getDataTransferItems:function(e){return k(e)},onDrop:this.onDropFiles},r.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("p",null," ","Try dropping DICOM image files/folder here, ",r.a.createElement("br",null),"or click here to select files to view. ",r.a.createElement("br",null),"You need to enable file url access in extenstion DETAILS setting page. ",r.a.createElement("br",null)," Use right/left key to switch & mouse press+move to change window center (level) ",r.a.createElement("br",null),"and widow width"))))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},T),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",null,r.a.createElement("div",{className:"flex-container"},"pixel/HU max:".concat(c,", min:").concat(u,"; useWindowCenter:").concat(null!==V&&void 0!==V?V:"",", useWindowWidth:").concat(null!==P&&void 0!==P?P:"","; Normalization mode:"),r.a.createElement("br",null),"(WindowCenter mode will fallback to Pixel/HU MaxMin if no value):"),r.a.createElement("div",null,r.a.createElement(L,{mode:N.WindowCenter,windowItem:s>=0?{L:l,W:s}:void 0,currNormalizeMode:o,onChange:this.handleNormalizeModeChange}),r.a.createElement(L,{mode:N.PixelHUMaxMin,currNormalizeMode:o,onChange:this.handleNormalizeModeChange})),r.a.createElement("div",null,r.a.createElement(L,{mode:N.AbdomenSoftTissues,currNormalizeMode:o,onChange:this.handleNormalizeModeChange}),r.a.createElement(L,{mode:N.SpineSoftTissues,currNormalizeMode:o,onChange:this.handleNormalizeModeChange}),r.a.createElement(L,{mode:N.SpineBone,currNormalizeMode:o,onChange:this.handleNormalizeModeChange})),r.a.createElement("div",null,r.a.createElement(L,{mode:N.Brain,currNormalizeMode:o,onChange:this.handleNormalizeModeChange}),r.a.createElement(L,{mode:N.Lungs,currNormalizeMode:o,onChange:this.handleNormalizeModeChange}),r.a.createElement(x.a,{toggle:!0,value:"seriesMode",checked:"seriesMode"===j,onChange:this.handleSeriesModeChange}),"  Enable Series mode")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",null," ",a.length>1?r.a.createElement(y.a,{placeholder:"Switch Frame",selection:!0,onChange:this.handleSwitchFrame,options:a,value:i}):null," ")," ")," ")),v>0?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{width:600}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},"".concat(t,". ").concat(w,"/").concat(v)),r.a.createElement("div",{className:"flex-container"},z?r.a.createElement("div",null,"S"):null,r.a.createElement(p.a,{value:w,step:1,min:1,max:v,onChange:this.switchImage}),z?r.a.createElement("div",null,"I"):null," "),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-container"},z?r.a.createElement("div",null,"R"):null," ",r.a.createElement(p.a,{value:I,step:1,min:1,max:F,onChange:this.switchSagittal}),z?r.a.createElement("div",null,"L"):null," "),r.a.createElement("div",{className:"flex-container"},z?r.a.createElement("div",null,"A"):null," ",r.a.createElement(p.a,{value:D,step:1,min:1,max:R,onChange:this.switchCorona}),z?r.a.createElement("div",null,"P"):null," ")):null)):null,C?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},z?r.a.createElement("div",null,"A"):null," ",r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},z?r.a.createElement("div",null,"R"):null," ",r.a.createElement("canvas",{onMouseDown:this.onMouseCanvasDown,ref:this.myCanvasRef,width:400,height:400,style:{backgroundColor:"black"}}),z?r.a.createElement("div",null,"L"):null," "),z?r.a.createElement("div",null,"P"):null," "),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},z?r.a.createElement("div",null,"S"):null," ",r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},z?r.a.createElement("div",null,"A"):null," ",r.a.createElement("canvas",{onMouseDown:this.onMouseCanvasDown,ref:this.myCanvasRefSagittal,width:400,height:400,style:{backgroundColor:"yellow"}}),z?r.a.createElement("div",null,"P"):null," "),z?r.a.createElement("div",null,"I"):null," "),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},z?r.a.createElement("div",null,"S"):null," ",r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},z?r.a.createElement("div",null,"R"):null," ",r.a.createElement("canvas",{onMouseDown:this.onMouseCanvasDown,ref:this.myCanvasRefCorona,width:400,height:400,style:{backgroundColor:"green"}}),z?r.a.createElement("div",null,"L"):null," "),z?r.a.createElement("div",null,"I"):null," ")):null):null)))}}]),n}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);
//# sourceMappingURL=main.8ce24996.chunk.js.map